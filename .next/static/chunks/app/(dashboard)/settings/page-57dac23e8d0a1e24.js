(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{919:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var o=r(95155),n=r(12115),i=r(20508),a=r(15870),s=r(91169),l=r(85998),d=r(17910);let c=(0,r(45105).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var m=r(6191),h=r(24326),g=r(71360),p=r(46046),u=r(8525),f=r(65229),y=r(919);function x(e){let{isOpen:t,onClose:r,editingUser:i,role:a,onSuccess:s}=e,[l,d]=(0,n.useState)([]),[c,m]=(0,n.useState)({name:"",email:"",phone:"",password:"",departments:[],specialization:"",status:"active",join_date:""}),[h,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(""),j=(0,u.U)();(0,n.useEffect)(()=>{i?m({name:i.name||"",email:i.email||"",phone:i.phone||"",password:"",departments:i.departments||i.department?Array.isArray(i.departments)?i.departments:String(i.department||"").split(",").map(e=>e.trim()).filter(Boolean):[],specialization:i.specialization||i.specialization||"",status:i.status||"active",join_date:i.join_date||i.joinDate||""}):m({name:"",email:"",phone:"",password:"",departments:[],specialization:"",status:"active",join_date:""}),b("")},[i,t]),(0,n.useEffect)(()=>{let e=async()=>{try{let{data:e}=await j.from("departments").select("id, name").eq("status","active");d(e||[])}catch(e){}};t&&e()},[t]);let w=()=>{switch(a){case"installer":return"Installer";case"manager":return"Manager";case"coordinator":return"Coordinator";case"accountant":return"Accountant";default:return"User"}},v=async e=>{e.preventDefault(),g(!0),b("");try{if(i)await z(),s(),r();else{await S(),s();let e=c.password||"".concat(c.email,"123!");alert("User created successfully!\n\nEmail: ".concat(c.email,"\nPassword: ").concat(e,"\n\nPlease save these credentials!")),r()}}catch(e){b(e.message||"An error occurred")}finally{g(!1)}},S=async()=>{let e=await fetch("/api/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password,name:c.name,phone:c.phone,role:a,departments:c.departments,specialization:c.specialization})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to create user");return t},z=async()=>{let e={name:c.name,email:c.email};c.phone&&(e.phone=c.phone),Array.isArray(c.departments)&&(e.department=c.departments.join(", ")),c.specialization&&(e.specialization=c.specialization),c.status&&(e.status=c.status),c.join_date&&(e.join_date=c.join_date);let{error:t}=await j.from("profiles").update(e).eq("id",i.id);if(!t&&Array.isArray(c.departments)&&await j.from("profiles").update({departments:c.departments}).eq("id",i.id),t)throw t;if(c.email!==i.email){let{error:e}=await j.auth.admin.updateUserById(i.id,{email:c.email});e&&console.error("Failed to update auth email:",e)}};return t?(0,o.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",width:"500px",maxHeight:"90vh",overflow:"auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b"},children:i?"Edit ".concat(w()):"Add ".concat(w())}),(0,o.jsx)("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer"},children:(0,o.jsx)(f.A,{style:{width:"1.25rem",height:"1.25rem",color:"#64748b"}})})]}),x&&(0,o.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:x}),(0,o.jsxs)("form",{onSubmit:v,children:[(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Name *"}),(0,o.jsx)("input",{type:"text",required:!0,value:c.name,onChange:e=>m({...c,name:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Email *"}),(0,o.jsx)("input",{type:"email",required:!0,value:c.email,onChange:e=>m({...c,email:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Phone *"}),(0,o.jsx)("input",{type:"tel",required:!0,value:c.phone,onChange:e=>m({...c,phone:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),!i&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Password (leave empty for auto-generated)"}),(0,o.jsx)("input",{type:"password",value:c.password,onChange:e=>m({...c,password:e.target.value}),placeholder:"Leave empty to auto-generate",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),("manager"===a||"coordinator"===a||"installer"===a)&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Departments"}),(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",padding:"0.5rem"},children:[l.map(e=>{let t=c.departments.includes(e.id);return(0,o.jsx)("button",{type:"button",onClick:()=>{m({...c,departments:t?c.departments.filter(t=>t!==e.id):[...c.departments,e.id]})},style:{padding:"0.375rem 0.75rem",borderRadius:"9999px",border:"1px solid "+(t?"#2563eb":"#e2e8f0"),backgroundColor:t?"#dbeafe":"white",color:t?"#1e40af":"#374151",cursor:"pointer",fontSize:"0.75rem"},children:e.name},e.id)}),0===l.length&&(0,o.jsx)("span",{style:{fontSize:"0.875rem",color:"#9ca3af"},children:"No departments found. Add in Settings → Departments."})]})]}),"installer"===a&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Specialization"}),(0,o.jsx)("input",{type:"text",value:c.specialization,onChange:e=>m({...c,specialization:e.target.value}),placeholder:"e.g., AC & Interior",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Status"}),(0,o.jsxs)("select",{value:c.status,onChange:e=>m({...c,status:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},children:[(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Join Date"}),(0,o.jsx)("input",{type:"date",value:c.join_date,onChange:e=>m({...c,join_date:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]})]})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1.5rem"},children:[(0,o.jsx)("button",{type:"button",onClick:r,disabled:h,style:{padding:"0.5rem 1rem",border:"1px solid #e2e8f0",backgroundColor:"white",color:"#64748b",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:h?"not-allowed":"pointer"},children:"Cancel"}),(0,o.jsxs)("button",{type:"submit",disabled:h,style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:h?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h?(0,o.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):(0,o.jsx)(p.A,{className:"w-4 h-4"}),h?"Saving...":i?"Update":"Create"]})]})]})]})}):null}function b(){var e;let t=(0,u.U)(),[r,f]=(0,n.useState)("profile"),[y,b]=(0,n.useState)("installers"),[j,w]=(0,n.useState)(!1),[v,S]=(0,n.useState)(!1),[z,C]=(0,n.useState)(null),[k,A]=(0,n.useState)("installer"),[_,W]=(0,n.useState)(!1),[R,P]=(0,n.useState)(!1),[B,N]=(0,n.useState)(null),[I,D]=(0,n.useState)(null),[T,M]=(0,n.useState)({name:"",status:"active"}),[E,q]=(0,n.useState)({name:"",status:"active"}),[U,O]=(0,n.useState)(!1),[F,L]=(0,n.useState)(null),[V,H]=(0,n.useState)({name:"",address:"",status:"active"}),[J,Z]=(0,n.useState)([]),[X,Y]=(0,n.useState)([]),[G,K]=(0,n.useState)([]),[Q,$]=(0,n.useState)([]),[ee,et]=(0,n.useState)([]),[er,eo]=(0,n.useState)([]),[en,ei]=(0,n.useState)([]),[ea,es]=(0,n.useState)({name:"Raghav Sukhadia",email:"raghav@sunkool.in"}),[el,ed]=(0,n.useState)({name:"RS Car Accessories",address:"510, Western Palace, opposite Park, Congress Nagar, Nagpur, Maharashtra 440012",phone:"081491 11110",email:"",website:"",businessHours:"Open ⋅ Closes 7 pm",openingTime:"09:00",closingTime:"19:00",gstNumber:"",panNumber:"",registrationNumber:""}),[ec,em]=(0,n.useState)(!1),[eh,eg]=(0,n.useState)("installer"),[ep,eu]=(0,n.useState)(null),[ef,ey]=(0,n.useState)({newPassword:"",confirmPassword:""}),[ex,eb]=(0,n.useState)(!1),ej=J.filter(e=>"coordinator"===e.role),ew=J.filter(e=>"installer"===e.role),ev=J.filter(e=>"accountant"===e.role),eS=ew.length>0?ew:G,ez=ev.length>0?ev:Q,eC=[{id:"profile",label:"Profile",icon:i.A},{id:"company",label:"Company",icon:a.A},{id:"management",label:"Management",icon:s.A},{id:"notifications",label:"Notifications",icon:l.A},{id:"security",label:"Security",icon:d.A},{id:"database",label:"Database",icon:c}],ek="installer"===eh||"coordinator"===eh||"manager"===eh||"accountant"===eh?eC.filter(e=>"company"===e.id):eC;(0,n.useEffect)(()=>{eA(),e_(),eW(),eR(),eP(),eB(),eN(),eI(),eD()},[]);let eA=async()=>{try{let{data:{user:e}}=await t.auth.getUser();if(e){eu(e);let{data:r,error:o}=await t.from("profiles").select("*").eq("id",e.id).single();!o&&r?(eg(r.role),("installer"===r.role||"coordinator"===r.role||"manager"===r.role||"accountant"===r.role)&&f("company"),es(t=>({...t,name:r.name||t.name,email:r.email||e.email||t.email}))):es(t=>{var r;return{...t,email:e.email||t.email,name:(null==(r=e.user_metadata)?void 0:r.name)||t.name}})}}catch(e){console.error("Error loading current user:",e)}},e_=async()=>{try{let{data:e,error:r}=await t.from("profiles").select("*").in("role",["coordinator","installer","accountant","manager"]).order("created_at",{ascending:!1});if(r)throw r;Z(e||[])}catch(e){console.error("Error fetching users:",e)}},eW=async()=>{try{let{data:e,error:r}=await t.from("profiles").select("*").eq("role","installer").order("created_at",{ascending:!1});if(r)throw r;K(e||[])}catch(e){console.error("Error fetching installers:",e)}},eR=async()=>{try{let{data:e,error:r}=await t.from("profiles").select("*").eq("role","manager").order("created_at",{ascending:!1});if(r)throw r;Y(e||[])}catch(e){console.error("Error fetching managers:",e)}},eP=async()=>{try{let{data:e,error:r}=await t.from("profiles").select("*").eq("role","accountant").order("created_at",{ascending:!1});if(r)throw r;$(e||[])}catch(e){console.error("Error fetching accountants:",e)}},eB=async()=>{try{let{data:e,error:r}=await t.from("locations").select("*").order("created_at",{ascending:!1});if(r)throw r;et(e||[])}catch(e){console.error("Error fetching locations:",e)}},eN=async()=>{try{let{data:e,error:r}=await t.from("vehicle_types").select("*").order("name",{ascending:!0});if(r)throw r;eo(e||[])}catch(e){console.error("Error fetching vehicle types:",e)}},eI=async()=>{try{let{data:e,error:r}=await t.from("departments").select("*").order("name",{ascending:!0});if(r)throw r;ei(e||[])}catch(e){console.error("Error fetching departments:",e)}},eD=async()=>{try{let{data:e,error:r}=await t.from("system_settings").select("*").in("setting_group",["profile","company"]);if(r)throw r;if(e&&e.length>0){let t={},r={};e.forEach(e=>{"profile"===e.setting_group?t[e.setting_key.replace("profile_","")]=e.setting_value:"company"===e.setting_group&&(r[e.setting_key.replace("company_","")]=e.setting_value)}),es(e=>({...e,...t})),ed(e=>({...e,...r}))}else es({name:"Raghav Sukhadia",email:"raghav@sunkool.in"}),ed({name:"RS Car Accessories",address:"510, Western Palace, opposite Park, Congress Nagar, Nagpur, Maharashtra 440012",phone:"081491 11110",email:"",website:"",businessHours:"Open ⋅ Closes 7 pm",openingTime:"09:00",closingTime:"19:00",gstNumber:"",panNumber:"",registrationNumber:""})}catch(e){console.error("Error fetching system settings:",e),es({name:"Raghav Sukhadia",email:"raghav@sunkool.in"})}},eT=async()=>{if(!ep)return void alert("Please log in to update your profile");em(!0);try{let e=await fetch("/api/users/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ep.id,name:ea.name,email:ea.email,designation:"Admin"})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to update profile");for(let e of[{setting_key:"profile_name",setting_value:ea.name,setting_group:"profile"},{setting_key:"profile_email",setting_value:ea.email,setting_group:"profile"},{setting_key:"profile_designation",setting_value:"Admin",setting_group:"profile"}])await t.from("system_settings").upsert(e,{onConflict:"setting_key"});await eA(),alert("Profile updated successfully! Changes will be reflected across the application."),window.location.reload()}catch(e){console.error("Error saving profile settings:",e),alert("Failed to save: ".concat(e.message))}finally{em(!1)}},eM=async()=>{if(!ep)return void alert("Please log in to change your password");if(!ef.newPassword||!ef.confirmPassword)return void alert("Please fill in all password fields");if(ef.newPassword!==ef.confirmPassword)return void alert("New passwords do not match. Please ensure both password fields are identical.");if(ef.newPassword.length<8)return void alert("Password must be at least 8 characters long for better security");if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/i.test(ef.newPassword)||confirm("For better security, we recommend using a password with at least one uppercase letter, one lowercase letter, and one number.\n\nDo you want to continue with the current password?")){eb(!0);try{let e=await fetch("/api/users/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ep.id,password:ef.newPassword})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to update password");alert("Password updated successfully! You will need to log in again with your new password."),ey({newPassword:"",confirmPassword:""})}catch(e){console.error("Error changing password:",e),alert("Failed to change password: ".concat(e.message))}finally{eb(!1)}}},eE=async()=>{em(!0);try{for(let e of[{setting_key:"company_name",setting_value:el.name,setting_group:"company"},{setting_key:"company_address",setting_value:el.address,setting_group:"company"},{setting_key:"company_phone",setting_value:el.phone,setting_group:"company"},{setting_key:"company_email",setting_value:el.email||"",setting_group:"company"},{setting_key:"company_website",setting_value:el.website||"",setting_group:"company"},{setting_key:"company_business_hours",setting_value:el.businessHours||"",setting_group:"company"},{setting_key:"company_opening_time",setting_value:el.openingTime||"",setting_group:"company"},{setting_key:"company_closing_time",setting_value:el.closingTime||"",setting_group:"company"},{setting_key:"company_gst_number",setting_value:el.gstNumber||"",setting_group:"company"},{setting_key:"company_pan_number",setting_value:el.panNumber||"",setting_group:"company"},{setting_key:"company_registration_number",setting_value:el.registrationNumber||"",setting_group:"company"}]){let{error:r}=await t.from("system_settings").upsert(e,{onConflict:"setting_key"});if(r)throw r}alert("Company settings saved successfully! Changes will be reflected across the application."),window.dispatchEvent(new Event("company-settings-updated")),localStorage.setItem("companyName",el.name),setTimeout(()=>{window.location.reload()},500)}catch(e){console.error("Error saving company settings:",e),alert("Failed to save: ".concat(e.message))}finally{em(!1)}},eq=(e,t)=>{A(t),C(e),S(!0)},eU=async(e,r)=>{if(confirm("Are you sure you want to delete this ".concat(r,"?")))try{if("installer"===r||"manager"===r||"accountant"===r||"coordinator"===r){let t=await fetch("/api/users/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to delete user")}else{let{error:o}=await t.from("location"===r?"locations":"vehicle_type"===r?"vehicle_types":"department"===r?"departments":"locations").delete().eq("id",e);if(o)throw o}"installer"===r?(await eW(),await e_()):"manager"===r?(await eR(),await e_()):"accountant"===r||"coordinator"===r?(await eP(),await e_()):"location"===r?await eB():"vehicle_type"===r?await eN():"department"===r?await eI():await eB(),alert("Deleted successfully!")}catch(e){alert("Failed to delete: ".concat(e.message))}},eO=async(e,r)=>{try{let o,n;if("installer"===r||"manager"===r||"accountant"===r||"coordinator"===r?(o="profiles","installer"===r?n=eS.find(t=>t.id===e):"manager"===r?n=X.find(t=>t.id===e):"accountant"===r?n=ez.find(t=>t.id===e):"coordinator"===r&&(n=ej.find(t=>t.id===e))):"location"===r?(o="locations",n=ee.find(t=>t.id===e)):"vehicle_type"===r?(o="vehicle_types",n=er.find(t=>t.id===e)):"department"===r?(o="departments",n=en.find(t=>t.id===e)):(o="locations",n=ee.find(t=>t.id===e)),!n)return;let i="active"===n.status?"inactive":"active",{error:a}=await t.from(o).update({status:i}).eq("id",e);if(a)throw a;"installer"===r?await eW():"manager"===r?await eR():"accountant"===r||"coordinator"===r?await eP():"location"===r?await eB():"vehicle_type"===r?await eN():"department"===r?await eI():await eB(),alert("Status updated successfully!")}catch(e){alert("Failed to update status: ".concat(e.message))}},eF=async()=>{if(!T.name.trim())return void alert("Please enter a vehicle type name");try{if(B){let{error:e}=await t.from("vehicle_types").update({name:T.name,status:T.status}).eq("id",B.id);if(e)throw e;alert("Vehicle type updated successfully!")}else{let{error:e}=await t.from("vehicle_types").insert([{name:T.name,status:T.status}]);if(e)throw e;alert("Vehicle type created successfully!")}await eN(),W(!1),N(null),M({name:"",status:"active"})}catch(e){alert("Failed to save: ".concat(e.message))}},eL=async()=>{if(!E.name.trim())return void alert("Please enter a department name");try{if(I){let{error:e}=await t.from("departments").update({name:E.name,status:E.status}).eq("id",I.id);if(e)throw e;alert("Department updated successfully!")}else{let{error:e}=await t.from("departments").insert([{name:E.name,status:E.status}]);if(e)throw e;alert("Department created successfully!")}await eI(),P(!1),D(null),q({name:"",status:"active"})}catch(e){alert("Failed to save: ".concat(e.message))}},eV=async()=>{if(!V.name.trim())return void alert("Please enter a location name");try{if(F){let{error:e}=await t.from("locations").update({name:V.name,address:V.address,status:V.status}).eq("id",F.id);if(e)throw e;alert("Location updated successfully!")}else{let{error:e}=await t.from("locations").insert([{name:V.name,address:V.address,status:V.status}]);if(e)throw e;alert("Location created successfully!")}await eB(),O(!1),L(null),H({name:"",address:"",status:"active"})}catch(e){alert("Failed to save: ".concat(e.message))}};return(0,o.jsxs)("div",{style:{padding:"2rem",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,o.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",marginBottom:"0.5rem"},children:"Settings"}),(0,o.jsx)("p",{style:{color:"#64748b",fontSize:"0.875rem"},children:"Manage your account and system settings"})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1rem",marginBottom:"2rem",border:"1px solid #e2e8f0"},children:[(0,o.jsx)("div",{style:{display:"flex",gap:"1rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"1rem",marginBottom:"1rem"},children:ek.map(e=>(0,o.jsxs)("button",{onClick:()=>f(e.id),style:{padding:"0.5rem 1rem",border:"none",backgroundColor:r===e.id?"#eff6ff":"transparent",color:r===e.id?"#2563eb":"#64748b",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:r===e.id?"600":"400",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(e.icon,{style:{width:"1rem",height:"1rem"}}),e.label]},e.id))}),"management"===r&&(0,o.jsx)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",flexWrap:"wrap"},children:["installers","managers","accountants","coordinator","locations","vehicle_types","departments"].map(e=>(0,o.jsx)("button",{onClick:()=>b(e),style:{padding:"0.5rem 1rem",backgroundColor:y===e?"#2563eb":"white",color:y===e?"white":"#64748b",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"vehicle_types"===e?"Vehicle Types":"departments"===e?"Departments":e.charAt(0).toUpperCase()+e.slice(1)},e))}),"management"===r&&"installers"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Installers Management"}),(0,o.jsxs)("button",{onClick:()=>{A("installer"),C(null),S(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Installer"]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{display:"none"},children:"ID"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Email"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Phone"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Created"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===eS.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No installers found. Click "Add Installer" to create one.'})}):eS.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===eS.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{display:"none"}}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.email||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.phone||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>eq(e,"installer"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"installer"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"installer"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"management"===r&&"accountants"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Accountants Management"}),(0,o.jsxs)("button",{onClick:()=>{A("accountant"),C(null),S(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Accountant"]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{display:"none"},children:"ID"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Email"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Phone"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Created"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===ez.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No accountants found. Click "Add Accountant" to create one.'})}):ez.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===ez.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{display:"none"}}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.email||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.phone||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>eq(e,"accountant"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"accountant"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"accountant"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"management"===r&&"coordinator"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Coordinators Management"}),(0,o.jsxs)("button",{onClick:()=>{A("coordinator"),C(null),S(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Coordinator"]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{display:"none"},children:"ID"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Email"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Phone"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Created"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===ej.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No coordinators found. Click "Add Coordinator" to create one.'})}):ej.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===ej.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{display:"none"}}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.email||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.phone||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>eq(e,"coordinator"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"coordinator"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"coordinator"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"management"===r&&"managers"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Managers Management"}),(0,o.jsxs)("button",{onClick:()=>{A("manager"),C(null),S(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Manager"]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{display:"none"},children:"ID"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Phone"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Department"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Join Date"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===X.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No managers found. Click "Add Manager" to create one.'})}):X.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===X.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{display:"none"}}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.phone||e.email||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:(e=>{try{let t=new Map(en.map(e=>[e.id,e.name])),r=[];Array.isArray(e)?r=e:"string"==typeof e&&(r=e.split(",").map(e=>e.trim()).filter(Boolean));let o=r.map(e=>t.get(e)||e);return o.length?o.join(", "):e||"-"}catch(t){return e||"-"}})(e.department)}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>eq(e,"manager"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"manager"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"manager"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"management"===r&&"locations"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Locations Management"}),(0,o.jsxs)("button",{onClick:()=>{L(null),H({name:"",address:"",status:"active"}),O(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Location"]})]}),U&&(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"1rem",border:"1px solid #e2e8f0"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"#1e293b"},children:F?"Edit Location":"Add New Location"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Location Name *"}),(0,o.jsx)("input",{type:"text",value:V.name,onChange:e=>H({...V,name:e.target.value}),placeholder:"e.g., Main Branch, Workshop 1",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Status"}),(0,o.jsxs)("select",{value:V.status,onChange:e=>H({...V,status:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},children:[(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Address"}),(0,o.jsx)("textarea",{value:V.address,onChange:e=>H({...V,address:e.target.value}),placeholder:"Enter location address",rows:3,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none",resize:"vertical"}})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{onClick:()=>{O(!1),L(null),H({name:"",address:"",status:"active"})},style:{padding:"0.5rem 1rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancel"}),(0,o.jsxs)("button",{onClick:eV,style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:[F?"Update":"Save"," Location"]})]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Address"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Created"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===ee.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:5,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No locations found. Click "Add Location" to create one.'})}):ee.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===ee.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.address||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>{L(e),H({name:e.name||"",address:e.address||"",status:e.status||"active"}),O(!0)},style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"location"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"location"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"management"===r&&"vehicle_types"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Vehicle Types Management"}),(0,o.jsxs)("button",{onClick:()=>{N(null),M({name:"",status:"active"}),W(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Vehicle Type"]})]}),_&&(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"1rem",border:"1px solid #e2e8f0"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"#1e293b"},children:B?"Edit Vehicle Type":"Add New Vehicle Type"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Vehicle Type Name *"}),(0,o.jsx)("input",{type:"text",value:T.name,onChange:e=>M({...T,name:e.target.value}),placeholder:"e.g., Retail, Showroom",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Status"}),(0,o.jsxs)("select",{value:T.status,onChange:e=>M({...T,status:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},children:[(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{onClick:()=>{W(!1),N(null),M({name:"",status:"active"})},style:{padding:"0.5rem 1rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancel"}),(0,o.jsxs)("button",{onClick:eF,style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:[B?"Update":"Save"," Vehicle Type"]})]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Created"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===er.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:4,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No vehicle types found. Click "Add Vehicle Type" to create one.'})}):er.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===er.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>{N(e),M({name:e.name||"",status:e.status||"active"}),W(!0)},style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"vehicle_type"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"vehicle_type"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"management"===r&&"departments"===y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Departments Management"}),(0,o.jsxs)("button",{onClick:()=>{D(null),q({name:"",status:"active"}),P(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(m.A,{style:{width:"1rem",height:"1rem"}}),"Add Department"]})]}),R&&(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"1rem",border:"1px solid #e2e8f0"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"#1e293b"},children:I?"Edit Department":"Add New Department"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Department Name *"}),(0,o.jsx)("input",{type:"text",value:E.name,onChange:e=>q({...E,name:e.target.value}),placeholder:"e.g., Engine, Electrical, Body & Paint",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Status"}),(0,o.jsxs)("select",{value:E.status,onChange:e=>q({...E,status:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},children:[(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{onClick:()=>{P(!1),D(null),q({name:"",status:"active"})},style:{padding:"0.5rem 1rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:"Cancel"}),(0,o.jsxs)("button",{onClick:eL,style:{padding:"0.5rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:[I?"Update":"Save"," Department"]})]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Name"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Created"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===en.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:4,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:'No departments found. Click "Add Department" to create one.'})}):en.map((e,t)=>(0,o.jsxs)("tr",{style:{borderBottom:t===en.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b",fontWeight:"500"},children:e.name||"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"active"!==e.status&&e.status?"#fef2f2":"#dcfce7",color:"active"!==e.status&&e.status?"#dc2626":"#166534"},children:e.status||"active"})}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"-"}),(0,o.jsx)("td",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>{D(e),q({name:e.name||"",status:e.status||"active"}),P(!0)},style:{padding:"0.25rem 0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(h.A,{style:{width:"0.75rem",height:"0.75rem"}})}),(0,o.jsx)("button",{onClick:()=>eO(e.id,"department"),style:{padding:"0.25rem 0.5rem",backgroundColor:"active"===e.status?"#f59e0b":"#059669",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:"active"===e.status?"Deactivate":"Activate"}),(0,o.jsx)("button",{onClick:()=>eU(e.id,"department"),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.25rem",fontSize:"0.75rem",cursor:"pointer"},children:(0,o.jsx)(g.A,{style:{width:"0.75rem",height:"0.75rem"}})})]})})]},e.id))})]})})]}),"profile"===r&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Admin Profile"}),(0,o.jsxs)("button",{onClick:eT,disabled:ec,style:{padding:"0.5rem 1rem",backgroundColor:ec?"#9ca3af":"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:ec?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(p.A,{style:{width:"1rem",height:"1rem"}}),ec?"Saving...":"Save Profile"]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Full Name *"}),(0,o.jsx)("input",{type:"text",value:ea.name,onChange:e=>es({...ea,name:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:["Email Address * ",(0,o.jsx)("span",{style:{fontSize:"0.75rem",color:"#64748b",fontWeight:"normal"},children:"(Working & User ID)"})]}),(0,o.jsx)("input",{type:"email",value:ea.email,onChange:e=>es({...ea,email:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}}),ep&&(0,o.jsxs)("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.25rem"},children:["User ID: ",null==(e=ep.id)?void 0:e.substring(0,8),"..."]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:["Designation ",(0,o.jsx)("span",{style:{fontSize:"0.75rem",color:"#64748b",fontWeight:"normal"},children:"(Protected - Cannot be changed)"})]}),(0,o.jsx)("input",{type:"text",value:"Admin",readOnly:!0,disabled:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#f9fafb",color:"#6b7280",cursor:"not-allowed"}}),(0,o.jsx)("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.25rem"},children:"This is the first user of OMS and cannot be modified or deleted."})]})]})}),(0,o.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,o.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:0,marginBottom:"0.25rem"},children:"Change Password"}),(0,o.jsx)("p",{style:{fontSize:"0.875rem",color:"#64748b",margin:0},children:"Update your account password to keep your account secure"})]})}),(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[(0,o.jsxs)("div",{style:{padding:"0.75rem 1rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"0.375rem",marginBottom:"1.5rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,o.jsx)(d.A,{style:{width:"1rem",height:"1rem",color:"#d97706"}}),(0,o.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#92400e"},children:"Security Tips"})]}),(0,o.jsxs)("ul",{style:{fontSize:"0.75rem",color:"#78350f",margin:"0.25rem 0 0 1.5rem",padding:0},children:[(0,o.jsx)("li",{children:"Use at least 8 characters"}),(0,o.jsx)("li",{children:"Include uppercase letters, lowercase letters, and numbers"}),(0,o.jsx)("li",{children:"Avoid using personal information"}),(0,o.jsx)("li",{children:"Don't reuse passwords from other accounts"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:["New Password * ",(0,o.jsx)("span",{style:{fontSize:"0.75rem",color:"#64748b",fontWeight:"normal"},children:"(min 8 characters)"})]}),(0,o.jsx)("input",{type:"password",value:ef.newPassword,onChange:e=>ey({...ef,newPassword:e.target.value}),placeholder:"Enter new password",style:{width:"100%",padding:"0.75rem",border:ef.newPassword&&ef.newPassword.length<8?"1px solid #ef4444":"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}}),ef.newPassword&&ef.newPassword.length<8&&(0,o.jsx)("div",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem"},children:"Password must be at least 8 characters long"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Confirm New Password *"}),(0,o.jsx)("input",{type:"password",value:ef.confirmPassword,onChange:e=>ey({...ef,confirmPassword:e.target.value}),placeholder:"Confirm new password",style:{width:"100%",padding:"0.75rem",border:ef.confirmPassword&&ef.newPassword!==ef.confirmPassword?"1px solid #ef4444":"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}}),ef.confirmPassword&&ef.newPassword!==ef.confirmPassword&&(0,o.jsx)("div",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem"},children:"Passwords do not match"}),ef.confirmPassword&&ef.newPassword===ef.confirmPassword&&ef.newPassword.length>=8&&(0,o.jsx)("div",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.25rem"},children:"✓ Passwords match"})]})]}),(0,o.jsxs)("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[(0,o.jsx)("button",{onClick:()=>ey({newPassword:"",confirmPassword:""}),disabled:ex,style:{padding:"0.5rem 1rem",backgroundColor:"transparent",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:ex?"not-allowed":"pointer"},children:"Clear"}),(0,o.jsxs)("button",{onClick:eM,disabled:ex||!ef.newPassword||!ef.confirmPassword||ef.newPassword.length<8||ef.newPassword!==ef.confirmPassword,style:{padding:"0.5rem 1.5rem",backgroundColor:ex||!ef.newPassword||!ef.confirmPassword||ef.newPassword.length<8||ef.newPassword!==ef.confirmPassword?"#9ca3af":"#dc2626",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:ex||!ef.newPassword||!ef.confirmPassword||ef.newPassword.length<8||ef.newPassword!==ef.confirmPassword?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(d.A,{style:{width:"1rem",height:"1rem"}}),ex?"Updating Password...":"Update Password"]})]})]})]})]}),"company"===r&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Company Information"}),(0,o.jsxs)("button",{onClick:eE,disabled:ec||["installer","coordinator","manager","accountant"].includes(eh),style:{padding:"0.5rem 1rem",backgroundColor:ec||["installer","coordinator","manager","accountant"].includes(eh)?"#9ca3af":"#059669",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:ec||["installer","coordinator","manager","accountant"].includes(eh)?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)(p.A,{style:{width:"1rem",height:"1rem"}}),ec?"Saving...":"Save Company"]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem"},children:[(0,o.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Company Name *"}),(0,o.jsx)("input",{type:"text",value:el.name,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,name:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Address *"}),(0,o.jsx)("textarea",{value:el.address,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,address:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,rows:3,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none",resize:"vertical",fontFamily:"inherit"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Phone Number *"}),(0,o.jsx)("input",{type:"tel",value:el.phone,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,phone:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Email Address"}),(0,o.jsx)("input",{type:"email",value:el.email,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,email:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,placeholder:"info@company.com",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Website"}),(0,o.jsx)("input",{type:"url",value:el.website,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,website:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,placeholder:"https://www.example.com",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Business Hours"}),(0,o.jsx)("input",{type:"text",value:el.businessHours,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,businessHours:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,placeholder:"e.g., Open ⋅ Closes 7 pm",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Opening Time"}),(0,o.jsx)("input",{type:"time",value:el.openingTime,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,openingTime:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Closing Time"}),(0,o.jsx)("input",{type:"time",value:el.closingTime,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,closingTime:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"GST Number"}),(0,o.jsx)("input",{type:"text",value:el.gstNumber,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,gstNumber:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,placeholder:"e.g., 27AABCU9603R1ZM",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"PAN Number"}),(0,o.jsx)("input",{type:"text",value:el.panNumber,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,panNumber:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,placeholder:"e.g., ABCDE1234F",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Registration Number"}),(0,o.jsx)("input",{type:"text",value:el.registrationNumber,onChange:e=>"installer"!==eh&&"coordinator"!==eh&&"manager"!==eh&&ed({...el,registrationNumber:e.target.value}),disabled:"installer"===eh||"coordinator"===eh||"manager"===eh,placeholder:"Company registration number",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"}})]})]})})]}),"management"!==r&&"profile"!==r&&"company"!==r&&(0,o.jsxs)("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:[r.charAt(0).toUpperCase()+r.slice(1)," settings coming soon..."]})]})]}),v&&(0,o.jsx)(x,{isOpen:v,onClose:()=>{S(!1),C(null)},editingUser:z,role:k,onSuccess:()=>{e_(),eR(),eW(),eP(),S(!1),C(null)}})]})}},8525:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var o=r(88727);function n(){return(0,o.createBrowserClient)("https://fszlchqifmvssxxgygij.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzemxjaHFpZm12c3N4eGd5Z2lqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3Njk4NzAsImV4cCI6MjA3NjM0NTg3MH0.-cwWKc1l3Af4zjOYIfRIH_bOMuTU82XD8dNK73_qPTE")}},15870:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},17910:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},20508:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24069:(e,t,r)=>{Promise.resolve().then(r.bind(r,7128))},24326:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},46046:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},65229:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71360:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85998:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},91169:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(45105).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},e=>{e.O(0,[331,441,255,358],()=>e(e.s=24069)),_N_E=e.O()}]);