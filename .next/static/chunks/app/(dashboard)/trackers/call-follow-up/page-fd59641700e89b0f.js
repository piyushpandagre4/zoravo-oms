(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{6191:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8525:(e,r,t)=>{"use strict";t.d(r,{U:()=>l});var o=t(88727);function l(){return(0,o.createBrowserClient)("https://fszlchqifmvssxxgygij.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzemxjaHFpZm12c3N4eGd5Z2lqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3Njk4NzAsImV4cCI6MjA3NjM0NTg3MH0.-cwWKc1l3Af4zjOYIfRIH_bOMuTU82XD8dNK73_qPTE")}},20063:(e,r,t)=>{"use strict";var o=t(47260);t.o(o,"useParams")&&t.d(r,{useParams:function(){return o.useParams}}),t.o(o,"usePathname")&&t.d(r,{usePathname:function(){return o.usePathname}}),t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(r,{useSearchParams:function(){return o.useSearchParams}})},24326:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},26983:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},27816:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},53335:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var o=t(95155),l=t(12115),n=t(90368),i=t(6191),d=t(91078),s=t(26983),a=t(45105);let c=(0,a.A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var m=t(65229),h=t(27816),p=t(86651),u=t(24326);let g=(0,a.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var x=t(8525),f=t(20063);function b(){let[e,r]=(0,l.useState)([]),[t,a]=(0,l.useState)(""),[b,y]=(0,l.useState)("All"),[j,v]=(0,l.useState)(!1),[C,w]=(0,l.useState)(!1),[S,k]=(0,l.useState)(!1),[_,z]=(0,l.useState)(null),A=(0,f.useRouter)(),R=(0,x.U)(),[I,W]=(0,l.useState)({caller_name:"",caller_number:"",person_to_contact:"",operator:"",assigned_to:"",priority:"medium",status:"pending",notes:""}),[P,B]=(0,l.useState)(["Tanisha Bharti","Hardik Chawhan","Ankit Rokde"]),[E,N]=(0,l.useState)(["Ankit Rokde","Hardik Chawhan","Mamta Yadav"]),[T,M]=(0,l.useState)(""),[O,F]=(0,l.useState)("");(0,l.useEffect)(()=>{D()},[]);let D=async()=>{try{let{data:e,error:t}=await R.from("call_follow_up").select("*").order("created_at",{ascending:!1});if(t){console.error("Error fetching calls:",t),r([]);return}r(e||[])}catch(e){console.error("Error fetching calls:",e),r([])}},L=(e,r)=>{W(t=>({...t,[e]:r}))},U=async()=>{try{if(_){let{error:e}=await R.from("call_follow_up").update({...I,updated_at:new Date().toISOString()}).eq("id",_.id);if(e)throw e;alert("Call Follow Up updated successfully!")}else{let{error:e}=await R.from("call_follow_up").insert({...I});if(e)throw e;alert("Call Follow Up added successfully!")}v(!1),z(null),Y(),D()}catch(e){console.error("Error saving call:",e),alert("Failed to save: ".concat(e.message))}},q=async e=>{if(confirm("Are you sure you want to delete this call follow up?"))try{let{error:r}=await R.from("call_follow_up").delete().eq("id",e);if(r)throw r;alert("Call Follow Up deleted successfully!"),D()}catch(e){console.error("Error deleting call:",e),alert("Failed to delete: ".concat(e.message))}},H=async(r,t)=>{try{let o=e.find(e=>e.id===r),l={status:t};if(o&&("followed_up"===t||"completed"===t)){let e=new Date(o.created_at).getTime(),r=new Date().getTime();l.response_time=Math.floor((r-e)/6e4)}let{error:n}=await R.from("call_follow_up").update(l).eq("id",r);if(n)throw n;D()}catch(e){console.error("Error updating status:",e),alert("Failed to update status: ".concat(e.message))}},Y=()=>{W({caller_name:"",caller_number:"",person_to_contact:"",operator:"",assigned_to:"",priority:"medium",status:"pending",notes:""}),z(null)},J=e.filter(e=>"active"===e.status).length,Z=e.filter(e=>"pending"===e.status).length,X=e.filter(e=>"followed_up"===e.status).length,V=e.filter(e=>"not_received"===e.status).length,G=e.filter(e=>"completed"===e.status).length,K=e.filter(e=>{var r,o,l;let n=(null==(r=e.caller_name)?void 0:r.toLowerCase().includes(t.toLowerCase()))||(null==(o=e.caller_number)?void 0:o.includes(t))||(null==(l=e.person_to_contact)?void 0:l.toLowerCase().includes(t.toLowerCase())),i="All"===b||e.status===b.toLowerCase().replace(" ","_");return("Completed"===b||"completed"!==e.status)&&n&&i}),Q={low:{bg:"#dcfce7",text:"#166534"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#dc2626"},urgent:{bg:"#fecaca",text:"#991b1b"}};return(0,o.jsxs)("div",{style:{backgroundColor:"#f8fafc",minHeight:"100vh",padding:"1.5rem"},children:[(0,o.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,o.jsxs)("button",{onClick:()=>A.push("/trackers"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"transparent",border:"1px solid #e2e8f0",borderRadius:"0.375rem",cursor:"pointer",marginBottom:"1rem",fontSize:"0.875rem",color:"#64748b"},children:[(0,o.jsx)(n.A,{style:{width:"1rem",height:"1rem"}}),"Back to Trackers"]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",margin:0},children:"Call Follow Up"}),(0,o.jsx)("p",{style:{fontSize:"1rem",color:"#64748b",margin:"0.5rem 0 0 0"},children:"Track and manage customer follow-up calls"})]}),(0,o.jsxs)("button",{onClick:()=>{Y(),v(!0)},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(37,99,235,0.3)"},children:[(0,o.jsx)(i.A,{style:{width:"1.25rem",height:"1.25rem"}}),"Add Call Follow Up"]})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[(0,o.jsx)("button",{onClick:()=>y("Active"),style:{backgroundColor:"Active"===b?"#fee2e2":"white",padding:"1.5rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"Active"===b?"2px solid #dc2626":"none",cursor:"pointer",textAlign:"left"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(d.A,{style:{width:"1.5rem",height:"1.5rem",color:"#dc2626"}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:J}),(0,o.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Active Calls"})]})]})}),(0,o.jsx)("button",{onClick:()=>y("Pending"),style:{backgroundColor:"Pending"===b?"#fef3c7":"white",padding:"1.5rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"Pending"===b?"2px solid #f59e0b":"none",cursor:"pointer",textAlign:"left"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"#fef3c7",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(s.A,{style:{width:"1.5rem",height:"1.5rem",color:"#f59e0b"}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:Z}),(0,o.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Pending"})]})]})}),(0,o.jsx)("button",{onClick:()=>y("Followed up"),style:{backgroundColor:"Followed up"===b?"#dbeafe":"white",padding:"1.5rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"Followed up"===b?"2px solid #2563eb":"none",cursor:"pointer",textAlign:"left"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"#dbeafe",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(c,{style:{width:"1.5rem",height:"1.5rem",color:"#2563eb"}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:X}),(0,o.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Followed up"})]})]})}),(0,o.jsx)("button",{onClick:()=>y("Not Received"),style:{backgroundColor:"Not Received"===b?"#f1f5f9":"white",padding:"1.5rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"Not Received"===b?"2px solid #64748b":"none",cursor:"pointer",textAlign:"left"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(m.A,{style:{width:"1.5rem",height:"1.5rem",color:"#64748b"}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:V}),(0,o.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Not Received"})]})]})}),(0,o.jsx)("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"#f3e8ff",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(i.A,{style:{width:"1.5rem",height:"1.5rem",color:"#7c3aed"}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:e.length}),(0,o.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Call Entered"})]})]})}),(0,o.jsx)("button",{onClick:()=>y("Completed"),style:{backgroundColor:"Completed"===b?"#dcfce7":"white",padding:"1.5rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"Completed"===b?"2px solid #059669":"none",cursor:"pointer",textAlign:"left"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"#dcfce7",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(h.A,{style:{width:"1.5rem",height:"1.5rem",color:"#059669"}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b"},children:G}),(0,o.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Completed"})]})]})})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.5rem",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,o.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,o.jsx)(p.A,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1.25rem",height:"1.25rem",color:"#94a3b8"}}),(0,o.jsx)("input",{type:"text",placeholder:"Search calls...",value:t,onChange:e=>a(e.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",outline:"none"}})]}),(0,o.jsxs)("select",{value:b,onChange:e=>y(e.target.value),style:{padding:"0.75rem 1rem",border:"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",cursor:"pointer"},children:[(0,o.jsx)("option",{value:"All",children:"All"}),(0,o.jsx)("option",{value:"Active",children:"Active"}),(0,o.jsx)("option",{value:"Pending",children:"Pending"}),(0,o.jsx)("option",{value:"Followed up",children:"Followed up"}),(0,o.jsx)("option",{value:"Not Received",children:"Not Received"}),(0,o.jsx)("option",{value:"Completed",children:"Completed"})]})]})}),(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflowX:"auto"},children:[(0,o.jsx)("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0"},children:(0,o.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Call Outcome"})}),(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{style:{backgroundColor:"#f8fafc"},children:(0,o.jsxs)("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"CALLER DETAILS"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"PERSON TO CONTACT"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"OPERATOR"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"ASSIGNED TO"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"PRIORITY"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"TIMESTAMP CALL ADDED"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"RESPONSE TIME"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"NOTE"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"STATUS"}),(0,o.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#475569"},children:"ACTIONS"})]})}),(0,o.jsx)("tbody",{children:0===K.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:10,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:"No calls found. Add your first call follow up!"})}):K.map((e,r)=>{var t,l;return(0,o.jsxs)("tr",{style:{borderBottom:r===K.length-1?"none":"1px solid #f1f5f9"},children:[(0,o.jsxs)("td",{style:{padding:"1rem",fontSize:"0.875rem"},children:[(0,o.jsx)("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"0.25rem"},children:e.caller_name}),(0,o.jsx)("a",{href:"tel:".concat(e.caller_number),style:{color:"#2563eb",textDecoration:"none"},children:e.caller_number})]}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.person_to_contact}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.operator}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#1e293b"},children:e.assigned_to}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem"},children:(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600",backgroundColor:(null==(t=Q[e.priority])?void 0:t.bg)||"#f1f5f9",color:(null==(l=Q[e.priority])?void 0:l.text)||"#64748b"},children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})}),(0,o.jsxs)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#64748b"},children:[(0,o.jsx)("div",{children:new Date(e.created_at).toLocaleDateString()}),(0,o.jsx)("div",{style:{fontSize:"0.75rem"},children:new Date(e.created_at).toLocaleTimeString()})]}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#059669"},children:e.response_time?"".concat(Math.floor(e.response_time/60),"h ").concat(e.response_time%60,"m"):(e=>{let r=new Date(e),t=new Date().getTime()-r.getTime(),o=Math.floor(t/6e4),l=Math.floor(t/36e5),n=Math.floor(t/864e5);return o<1?"Just now":o<60?"".concat(o,"m"):l<24?"".concat(l,"h ").concat(o%60,"m"):"".concat(n,"d ").concat(l%24,"h ").concat(o%60,"m")})(e.created_at)}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#64748b"},children:e.notes||"-"}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("select",{value:e.status,onChange:r=>H(e.id,r.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},children:[(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"pending",children:"Pending"}),(0,o.jsx)("option",{value:"followed_up",children:"Followed up"}),(0,o.jsx)("option",{value:"not_received",children:"Not Received"}),(0,o.jsx)("option",{value:"completed",children:"Completed"})]})}),(0,o.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsx)("button",{onClick:()=>{z(e),W({caller_name:e.caller_name||"",caller_number:e.caller_number||"",person_to_contact:e.person_to_contact||"",operator:e.operator||"",assigned_to:e.assigned_to||"",priority:e.priority||"medium",status:e.status||"pending",notes:e.notes||""}),v(!0)},style:{padding:"0.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer"},title:"Edit",children:(0,o.jsx)(u.A,{style:{width:"1rem",height:"1rem"}})}),(0,o.jsx)("button",{onClick:()=>q(e.id),style:{padding:"0.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer"},title:"Delete",children:(0,o.jsx)(g,{style:{width:"1rem",height:"1rem"}})})]})})]},e.id)})})]})]}),j&&(0,o.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:()=>{v(!1),Y()},children:(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,o.jsxs)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1e293b",margin:0},children:[_?"Edit":"Add New"," Call Follow Up"]}),(0,o.jsx)("button",{onClick:()=>{v(!1),Y()},style:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0.5rem"},children:"✕"})]}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Caller Name *"}),(0,o.jsx)("input",{type:"text",value:I.caller_name,onChange:e=>L("caller_name",e.target.value),placeholder:"Enter caller name",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Caller Number *"}),(0,o.jsx)("input",{type:"tel",value:I.caller_number,onChange:e=>L("caller_number",e.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Person to Contact *"}),(0,o.jsx)("input",{type:"text",value:I.person_to_contact,onChange:e=>L("person_to_contact",e.target.value),placeholder:"Enter person to contact",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Operator *"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsxs)("select",{value:I.operator,onChange:e=>L("operator",e.target.value),style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",cursor:"pointer"},children:[(0,o.jsx)("option",{value:"",children:"Select an operator..."}),P.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),(0,o.jsx)("button",{type:"button",style:{padding:"0.75rem",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer"},onClick:()=>w(!0),children:"+"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Priority *"}),(0,o.jsxs)("select",{value:I.priority,onChange:e=>L("priority",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",cursor:"pointer"},children:[(0,o.jsx)("option",{value:"low",children:"Low"}),(0,o.jsx)("option",{value:"medium",children:"Medium"}),(0,o.jsx)("option",{value:"high",children:"High"}),(0,o.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Assigned To *"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,o.jsxs)("select",{value:I.assigned_to,onChange:e=>L("assigned_to",e.target.value),style:{flex:1,padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",cursor:"pointer"},children:[(0,o.jsx)("option",{value:"",children:"Select assigned person..."}),E.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),(0,o.jsx)("button",{type:"button",style:{padding:"0.75rem",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer"},onClick:()=>k(!0),children:"+"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Status"}),(0,o.jsxs)("select",{value:I.status,onChange:e=>L("status",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",cursor:"pointer"},children:[(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"pending",children:"Pending"}),(0,o.jsx)("option",{value:"followed_up",children:"Followed up"}),(0,o.jsx)("option",{value:"not_received",children:"Not Received"}),(0,o.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Notes"}),(0,o.jsx)("textarea",{value:I.notes,onChange:e=>L("notes",e.target.value),placeholder:"Enter notes...",rows:4,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",resize:"vertical",fontFamily:"inherit"}})]})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},children:[(0,o.jsx)("button",{onClick:()=>{v(!1),Y()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#f1f5f9",color:"#475569",border:"none",borderRadius:"0.375rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),(0,o.jsxs)("button",{onClick:U,disabled:!I.caller_name||!I.caller_number||!I.person_to_contact||!I.operator||!I.assigned_to,style:{padding:"0.75rem 1.5rem",backgroundColor:I.caller_name&&I.caller_number&&I.person_to_contact&&I.operator&&I.assigned_to?"#2563eb":"#94a3b8",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"1rem",fontWeight:"500",cursor:I.caller_name&&I.caller_number&&I.person_to_contact&&I.operator&&I.assigned_to?"pointer":"not-allowed"},children:[_?"Update":"Add"," Call Follow Up"]})]})]})}),C&&(0,o.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:()=>w(!1),children:(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",width:"100%",maxWidth:"500px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,o.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Manage Operators"}),(0,o.jsx)("button",{onClick:()=>w(!1),style:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",fontSize:"1.5rem",color:"#64748b"},children:"✕"})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"Existing Operators"}),(0,o.jsx)("div",{style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",maxHeight:"200px",overflowY:"auto"},children:P.map((e,r)=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderBottom:r<P.length-1?"1px solid #f1f5f9":"none"},children:[(0,o.jsx)("span",{style:{fontSize:"0.875rem",color:"#1e293b"},children:e}),(0,o.jsx)("button",{onClick:()=>{B(P.filter(r=>r!==e))},style:{padding:"0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"0.375rem",cursor:"pointer"},children:(0,o.jsx)(g,{style:{width:"1rem",height:"1rem"}})})]},r))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"Add New Operator"}),(0,o.jsx)("input",{type:"text",value:T,onChange:e=>M(e.target.value),placeholder:"Enter operator name",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",marginBottom:"1rem"}}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[(0,o.jsx)("button",{onClick:()=>{w(!1),M("")},style:{padding:"0.75rem 1.5rem",backgroundColor:"#f1f5f9",color:"#475569",border:"none",borderRadius:"0.375rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>T.trim()?P.includes(T)?void alert("Operator already exists"):void(B([...P,T]),M("")):void alert("Please enter an operator name"),style:{padding:"0.75rem 1.5rem",backgroundColor:"#7c3aed",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer"},children:"Add Operator"})]})]})]})}),S&&(0,o.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:()=>k(!1),children:(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",width:"100%",maxWidth:"500px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,o.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1e293b",margin:0},children:"Manage Assigned Persons"}),(0,o.jsx)("button",{onClick:()=>k(!1),style:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",fontSize:"1.5rem",color:"#64748b"},children:"✕"})]}),(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"Existing Assigned Persons"}),(0,o.jsx)("div",{style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",maxHeight:"200px",overflowY:"auto"},children:E.map((e,r)=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderBottom:r<E.length-1?"1px solid #f1f5f9":"none"},children:[(0,o.jsx)("span",{style:{fontSize:"0.875rem",color:"#1e293b"},children:e}),(0,o.jsx)("button",{onClick:()=>{N(E.filter(r=>r!==e))},style:{padding:"0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"0.375rem",cursor:"pointer"},children:(0,o.jsx)(g,{style:{width:"1rem",height:"1rem"}})})]},r))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"Add New Assigned Person"}),(0,o.jsx)("input",{type:"text",value:O,onChange:e=>F(e.target.value),placeholder:"Enter person name",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",marginBottom:"1rem"}}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[(0,o.jsx)("button",{onClick:()=>{k(!1),F("")},style:{padding:"0.75rem 1.5rem",backgroundColor:"#f1f5f9",color:"#475569",border:"none",borderRadius:"0.375rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>O.trim()?E.includes(O)?void alert("Person already exists"):void(N([...E,O]),F("")):void alert("Please enter a person name"),style:{padding:"0.75rem 1.5rem",backgroundColor:"#7c3aed",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer"},children:"Add Person"})]})]})]})})]})}},65229:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},76679:(e,r,t)=>{Promise.resolve().then(t.bind(t,53335))},86651:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},90368:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},91078:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(45105).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}},e=>{e.O(0,[331,441,255,358],()=>e(e.s=76679)),_N_E=e.O()}]);