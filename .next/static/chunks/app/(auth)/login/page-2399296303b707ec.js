(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{8525:(e,r,s)=>{"use strict";s.d(r,{U:()=>a});var t=s(88727);function a(){return(0,t.createBrowserClient)("https://fszlchqifmvssxxgygij.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzemxjaHFpZm12c3N4eGd5Z2lqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3Njk4NzAsImV4cCI6MjA3NjM0NTg3MH0.-cwWKc1l3Af4zjOYIfRIH_bOMuTU82XD8dNK73_qPTE")}},9237:(e,r,s)=>{Promise.resolve().then(s.bind(s,25780))},25780:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g,dynamic:()=>m});var t=s(95155),a=s(88661),d=s.n(a),o=s(12115),i=s(20063),n=s(8525),l=s(24947),c=s(91078);let m="force-dynamic";function g(){return(0,t.jsx)(o.Suspense,{fallback:null,children:(0,t.jsx)(b,{})})}function b(){let[e,r]=(0,o.useState)(""),[s,a]=(0,o.useState)(""),[m,g]=(0,o.useState)(!1),[b,u]=(0,o.useState)(""),[f,x]=(0,o.useState)(!1),[h,p]=(0,o.useState)("Zoravo OMS"),[y,j]=(0,o.useState)("R S Cars - Nagpur Management System"),S=(0,i.useRouter)(),N=(0,i.useSearchParams)(),v=(0,n.U)(),w=N.get("redirectTo")||"/dashboard";(0,o.useEffect)(()=>{let e=localStorage.getItem("companyName");e&&p(e),(async()=>{try{let{data:s,error:t}=await v.from("system_settings").select("setting_key, setting_value").in("setting_key",["company_name","company_tagline"]);if(!t&&s){var e,r;let t=null==(e=s.find(e=>"company_name"===e.setting_key))?void 0:e.setting_value,a=null==(r=s.find(e=>"company_tagline"===e.setting_key))?void 0:r.setting_value;t&&(p(t),localStorage.setItem("companyName",t)),a&&j(a)}}catch(e){}})();let r=()=>{let e=localStorage.getItem("companyName");e&&p(e)};return window.addEventListener("company-settings-updated",r),()=>window.removeEventListener("company-settings-updated",r)},[]);let k=async r=>{r.preventDefault(),g(!0),u("");try{if(f){await new Promise(e=>setTimeout(e,1e3));let r=[{email:"raghav@sunkool.in",password:"Admin123",role:"admin"},{email:"manager@zoravo.com",password:"manager123",role:"manager"},{email:"coordinator@zoravo.com",password:"coordinator123",role:"coordinator"}].find(r=>r.email===e&&r.password===s);if(r){let e={id:"demo-"+r.role,email:r.email,role:r.role,name:r.role.charAt(0).toUpperCase()+r.role.slice(1)};document.cookie="demo-user=".concat(JSON.stringify(e),"; path=/; max-age=86400"),S.push(w),S.refresh()}else u("Invalid email or password. Please use the demo credentials.");return}let{data:r,error:t}=await v.auth.signInWithPassword({email:e,password:s});t?(console.error("Login error:",t),t.message.includes("Invalid login credentials")?u("Invalid email or password. Please check your credentials."):t.message.includes("Email not confirmed")?u("Please confirm your email address before signing in."):u(t.message)):r.user&&(S.push(w),S.refresh())}catch(e){console.error("Unexpected error:",e),u("An unexpected error occurred. Please try again.")}finally{g(!1)}};return(0,t.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem 1rem",fontFamily:"Inter, system-ui, sans-serif"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsxs)("div",{style:{maxWidth:"28rem",width:"100%"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("div",{style:{textAlign:"center",marginBottom:"1rem"},className:"jsx-532d500bfc6d5d04",children:(0,t.jsx)("button",{onClick:()=>S.push("/"),style:{padding:"0.5rem 0.75rem",backgroundColor:"transparent",border:"1px solid #e5e7eb",color:"#2563eb",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem"},className:"jsx-532d500bfc6d5d04",children:"â† Back to Home"})}),(0,t.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("div",{style:{height:"4rem",width:"4rem",margin:"0 auto 1.5rem auto",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},className:"jsx-532d500bfc6d5d04",children:(0,t.jsx)(l.A,{style:{color:"white",height:"2rem",width:"2rem"}})}),(0,t.jsx)("h1",{style:{fontSize:"2.25rem",fontWeight:"bold",background:"linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",margin:"0 0 0.5rem 0"},className:"jsx-532d500bfc6d5d04",children:"ZORAVO OMS"}),(0,t.jsx)("p",{style:{fontSize:"1.125rem",color:"#6b7280",fontWeight:"500",margin:"0"},className:"jsx-532d500bfc6d5d04",children:h})]}),(0,t.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",borderRadius:"1rem",padding:"2rem",boxShadow:"0 25px 50px rgba(0,0,0,0.15)",border:"none"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",textAlign:"center",margin:"0 0 0.5rem 0",color:"#1f2937"},className:"jsx-532d500bfc6d5d04",children:"Welcome Back"}),(0,t.jsx)("p",{style:{textAlign:"center",color:"#6b7280",margin:"0",fontSize:"0.875rem"},className:"jsx-532d500bfc6d5d04",children:"Sign in to your account to continue"})]}),f&&(0,t.jsxs)("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",color:"#92400e",fontSize:"0.875rem",padding:"1rem",borderRadius:"0.5rem",display:"flex",alignItems:"flex-start",marginBottom:"1.5rem"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)(c.A,{style:{width:"1.25rem",height:"1.25rem",marginRight:"0.75rem",marginTop:"0.125rem",flexShrink:0}}),(0,t.jsxs)("div",{className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("p",{style:{fontWeight:"500",margin:"0 0 0.25rem 0"},className:"jsx-532d500bfc6d5d04",children:"Demo Mode Active"}),(0,t.jsx)("p",{style:{margin:"0",fontSize:"0.75rem"},className:"jsx-532d500bfc6d5d04",children:"Supabase is not configured. Using demo credentials for testing."})]})]}),(0,t.jsxs)("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"1rem"},className:"jsx-532d500bfc6d5d04",children:[b&&(0,t.jsxs)("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",fontSize:"0.875rem",padding:"1rem",borderRadius:"0.5rem",display:"flex",alignItems:"center"},className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("div",{style:{width:"0.5rem",height:"0.5rem",backgroundColor:"#dc2626",borderRadius:"50%",marginRight:"0.75rem"},className:"jsx-532d500bfc6d5d04"}),b]}),(0,t.jsxs)("div",{className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},className:"jsx-532d500bfc6d5d04",children:"Email address"}),(0,t.jsx)("input",{type:"email",value:e,onChange:e=>r(e.target.value),required:!0,placeholder:"Enter your email",style:{width:"100%",height:"3rem",padding:"0 1rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#2563eb",onBlur:e=>e.target.style.borderColor="#d1d5db",className:"jsx-532d500bfc6d5d04"})]}),(0,t.jsxs)("div",{className:"jsx-532d500bfc6d5d04",children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},className:"jsx-532d500bfc6d5d04",children:"Password"}),(0,t.jsx)("input",{type:"password",value:s,onChange:e=>a(e.target.value),required:!0,placeholder:"Enter your password",style:{width:"100%",height:"3rem",padding:"0 1rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#2563eb",onBlur:e=>e.target.style.borderColor="#d1d5db",className:"jsx-532d500bfc6d5d04"})]}),(0,t.jsx)("button",{type:"submit",disabled:m,style:{width:"100%",height:"3rem",background:m?"#9ca3af":"linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)",color:"white",fontWeight:"500",border:"none",borderRadius:"0.5rem",fontSize:"1rem",cursor:m?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:e=>{m||(e.currentTarget.style.boxShadow="0 10px 15px rgba(0,0,0,0.2)")},onMouseLeave:e=>{m||(e.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)")},className:"jsx-532d500bfc6d5d04",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-532d500bfc6d5d04"}),"Signing in..."]}):"Sign in"})]})]})]}),(0,t.jsx)(d(),{id:"532d500bfc6d5d04",children:"@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}"})]})}}},e=>{e.O(0,[331,723,441,255,358],()=>e(e.s=9237)),_N_E=e.O()}]);